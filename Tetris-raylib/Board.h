#pragma once

class Board
{
public:
	Board(int x, int y, int tileSize);
	void Draw();

public:
	int TileAt(int x, int y) const;
	void SetTile(int x, int y, int value);
	void Check();

private:
	void CheckLines();
	void DeleteLines();
	void Rearrange();

public:
	static constexpr int TileSize = 30;
	static constexpr int tilesWidth = 12;
	static constexpr int tilesHeight = 20;

private:
	int lineFilled = -1;
	int map[tilesHeight * tilesWidth] =
	{
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9,
		9,  9,  9,  9,  9,  9,  9,  9,  9,  9,  9, 9,
	};
};